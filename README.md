# DjFalcon
* 基于Django开发的服务器监控平台, 参考了小米的open-falcon架构设计思路。实现包括系统性能，端口和进程存活，应用服务等监控
# 基本思路
* 实现一个完整的监控流程，从服务器监控数据的收集、到数据的转发和存储、到监控查询数据的绘图显示，到最后的报警策略和条件的配置已经分组报警。
涉及的主要功能如下：
  1. Agent数据采集：实现agent部署所有机器上复杂采集服务器各种信息。比如：cpu、内存、磁盘、io、load、网络、端口存活、进程存活等，每隔一段时间push给transfer。
  2. Transfer：数据中转站，主要负责将agent push上来的数据转发
  3. Judge报警：用户可在web端配置相关的报警策略，然后存入mysql。Transfer转发到Judge的每条数据，都会触发相关策略的判定，来决定是否满足报警条件，如果满足条件，则会发送给Redis队列
  4. Alarm报警：从redis队列中取得报警事件，可根据报警时间级别来选择发送微信公众号，邮件或者短信
  5. 数据存储模块：数据存储分为两部分，一种是以环形数据库rrdtool的数据归档方式来存储，比如cpu、内存、磁盘等节点基础信息，能简单绘图即可。而且在数据每次存入的时候，会自动进行采样、归档，避免了查询时数据量过大，导致请求时间过长或者前端根本无法渲染那么多的数据;一种是存在mongodb中，便于利用数据进行各种数据统计与分析，比如从原来channel.sta得到的各项参数
  6.API模块：从各种数据库中根据查询条件得到相应的各项数据
  7.iMweb:保留原来页面，增加报警策略配置页面,增加各项报警历史展示页面
